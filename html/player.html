<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <link rel="stylesheet" href="../css/p2.css">
    <!--<script src="lib/jquery-3.2.1.min.js"></script>-->
    <link rel="stylesheet" href="../node_modules/jquery-ui/themes/base/all.css">
</head>

<body>
    <!--<h1>Hello World!</h1>-->
    <!--We are using node-->
    <!--<script>
        document.write(process.versions.node)
    </script>, Chrome
    <script>
        document.write(process.versions.chrome)
    </script>, and Electron
    <script>
        document.write(process.versions.electron)
    </script>.-->
    <!--<debug></debug>-->
    <!-- <seek></seek> -->
    <player-tags></player-tags>
    <player-video></player-video>
    <player-controls></player-controls>
</body>
<!--<script src="lib/jquery-3.2.1.min.js"></script>-->
<!--<script src="app/app.js"></script>-->
<script>
    var ipc = require('electron').ipcRenderer
    var riot = require('riot')
    var anime = require('animejs')

    require('../app/tags/player-tags.tag')
    require('../app/tags/player-video.tag')
    require('../app/tags/player-controls.tag')
    // require('../app/tags/seek.tag')

    var obs = riot.observable();

    riot.mount('player-tags');
    riot.mount('player-video');
    riot.mount('player-controls');
    // riot.mount('seek');

    const timeout = 200
    let timer
    window.addEventListener('resize', () => {
        clearTimeout(timer);
        timer = setTimeout(() => {
            obs.trigger("resizeEndEvent", { w: window.innerWidth, h: window.innerHeight });
        }, timeout);
    })

    ipc.on('request-send-video-data', (event, arg) => {
        obs.trigger("receivedData", arg)
    })

</script>

</html>