<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <style type="text/css">
        html, body{
            height: 100%;
            margin: 0;
            overflow: hidden;
        }
        .comment{
            float:left;
            border: 1px solid #FF6600;
        }
    </style>
</head>

<body>
    <player-page></player-page>
</body>
<!--<script src="lib/jquery-3.2.1.min.js"></script>-->
<!--<script src="app/app.js"></script>-->
<script>
    const remote = require("electron").remote;
    const base_dir = remote.getGlobal("sharedObj").base_dir;
    const ipc = require("electron").ipcRenderer;

    var riot = require("riot"); // eslint-disable-line
    var obs = riot.observable(); // eslint-disable-line

    require(`${base_dir}/app/tags/player-page.tag`);
    riot.mount("player-page");
    
    const timeout = 200;
    let timer;
    window.addEventListener("resize", () => {
        clearTimeout(timer);
        timer = setTimeout(() => {
            obs.trigger("resizeEndEvent", { w: window.innerWidth, h: window.innerHeight });
        }, timeout);
    });

    ipc.on("request-send-video-data", (event, arg) => {
        obs.trigger("receivedData", arg);
    });

</script>

</html>