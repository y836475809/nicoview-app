<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DB</title>
</head>

<body>
    
</body>

<script>
    const Dexie = require("dexie");

    const db = new Dexie("mydb");
    db.version(1).stores({foo: "id"});

    const main = async () => {
        // await db.foo.put({id: 1, bar: "hello rollup"});
        // const db = await new Dexie("mydb").open();
        const item = await db.foo.get(1);
        alert ("Found: " + item.bar);
    };

    main();

    // db.foo.put({id: 1, bar: "hello rollup"}).then(id => {
    //     return db.foo.get(id);
    // }).then (item => {
    //     alert ("Found: " + item.bar);
    // }).catch (err => {
    //     alert ("Error: " + (err.stack || err));
    // });
</script>
</html>