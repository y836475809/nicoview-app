<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <script src="../node_modules/riot/riot+compiler.min.js"></script>
    <style type="text/css">
        html,body {
            height: 100%;
            width: 100%;
            margin: 0;
            overflow: hidden;
        }
        .comment{
            float:left;
            border: 1px solid #FF6600;
        }
        #sbtn{
            position: fixed;
            top: 0;
            left: 0;
            z-index: 20;
        }
    </style>
</head>

<body>
    <input id="sbtn" type="button" value="show" onClick="start()">
    <player-page></player-page>
</body>

<script>
    const remote = require('electron').remote;
    const base_dir = remote.getGlobal('sharedObj').base_dir;
    var riot = require('riot');
    var obs = riot.observable();
    require(`${base_dir}/app/tags/player-page.tag`);
    riot.mount('player-page');

    let start = () => {
        let commnets = [
            { no: 0, vpos: 0, date: 1000, user_id: "aaa", text: "あああ" },
            { no: 1, vpos: 500, date: 1000, user_id: "aaa", text: "ああああああ" },
            { no: 2, vpos: 1000, date: 1000, user_id: "aaa", text: "あ" },
            { no: 3, vpos: 1500, date: 1000, user_id: "aaa", text: "あああああああああ" },
            { no: 4, vpos: 2000, date: 1000, user_id: "aaa", text: "あああ" },
            { no: 5, vpos: 25000, date: 1000, user_id: "aaa", text: "aaa" },
        ];
        const data = {
            src: `${base_dir}/data/_test0.mp4`,
            type: "video/mp4",
            commnets: commnets
        };
        obs.trigger("receivedData", data);  
    };
</script>

</html>