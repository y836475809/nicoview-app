<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta 
            http-equiv="Content-Security-Policy" 
            content="
                script-src 'self' 'unsafe-inline' 'unsafe-eval';
                style-src 'self' 'unsafe-inline';
            "/>
        <link rel="stylesheet" type="text/css" href="../css/app.css">
        <link rel="stylesheet" type="text/css" href="../css/split-page.css">
        <style type="text/css">
        </style>
    </head>

    <body>
        <main-page></main-page>
    </body>
    <script type="riot" src="../pages/common/listview.tag"></script>
    <script type="riot" src="../pages/common/modal-dialog.tag"></script>

    <script type="riot" src="../pages/main-page/main-page.tag"></script>
    <script type="riot" src="../pages/main-page/bookmark-page.tag"></script>
    <script type="riot" src="../pages/main-page/play-stack-page.tag"></script>

    <script type="riot" src="../pages/library-page/library-sidebar.tag"></script>
    <script type="riot" src="../pages/library-page/library-content.tag"></script>
    <script type="riot" src="../pages/library-page/library-page.tag"></script>

    <script type="riot" src="../pages/search-page/search-sidebar.tag"></script>
    <script type="riot" src="../pages/search-page/search-content.tag"></script>
    <script type="riot" src="../pages/search-page/search-page.tag"></script>
    <script type="riot" src="../pages/search-page/search-page-selector.tag"></script>
    <script type="riot" src="../pages/search-page/pagination.tag"></script>

    <script type="riot" src="../pages/download-page/setting-download-schedule.tag"></script>
    <script type="riot" src="../pages/download-page/download-page.tag"></script>

    <script type="riot" src="../pages/history-page/history-page.tag"></script>

    <script type="riot" src="../pages/setting-page/setting-page.tag"></script>

    <script type="riot" src="../pages/mylist-page/mylist-sidebar.tag"></script>
    <script type="riot" src="../pages/mylist-page/mylist-content.tag"></script>
    <script type="riot" src="../pages/mylist-page/mylist-page.tag"></script>


    <script src="../../node_modules/riot/riot+compiler.min.js"></script>
    
    <script>
        /* globals riot */
        const myapi = window.myapi;
        var { logger } = window.logger; // eslint-disable-line
        var { ModalDialog } = window.ModalDialog; // eslint-disable-line
        const { MyObservable } = window.MyObservable;
        
        riot.obs = new MyObservable();

        myapi.ipc.Config.set("download.wait_time", 10).then();

        myapi.ipc.onLoadContent(async ()=>{
            await riot.compile();
            riot.mount("main-page");
        });
    </script>
</html>