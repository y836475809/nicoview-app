<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Hello World!</title>
        <script>window.jQuery = window.$ = require("jquery");</script>
        <script src="../../node_modules/riot/riot+compiler.min.js"></script>
        <script type="riot/tag" src="../tags/main-page.tag"></script>
        <link rel="stylesheet" type="text/css" href="../css/app.css">

        <style type="text/css">
        </style>
    </head>

    <body>
        <main-page></main-page>
    </body>

    <script>
        /* globals riot */
        const { remote, ipcMain } = require("electron");
        var shared_obj = remote.getGlobal("sharedObj"); // eslint-disable-line
        var app_base_dir = shared_obj.base_dir; // eslint-disable-line
        var obs = riot.observable(); // eslint-disable-line
        var search_host = "https://api.search.nicovideo.jp"; // eslint-disable-line

        riot.mount("main-page");

        //TODO
        ipcMain.on("index-html:search-tag", (event, args)=>{
            obs.triggrt("search-page:search-tag", args);
        });
    </script>
</html>